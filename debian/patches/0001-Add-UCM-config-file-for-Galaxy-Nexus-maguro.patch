From 9a1b40471fe43c01ff5806ec3a2dabd27cb90c1b Mon Sep 17 00:00:00 2001
From: David Henningsson <david.henningsson@canonical.com>
Date: Tue, 27 Aug 2013 09:43:31 +0200
Subject: [PATCH] Add UCM config file for Galaxy Nexus (maguro)

---
 configure.in                  |    1 +
 src/conf/ucm/Makefile.am      |    2 +-
 src/conf/ucm/Tuna/HiFi        |  764 +++++++++++++++++++++++++++++++++++++++++
 src/conf/ucm/Tuna/Makefile.am |    4 +
 src/conf/ucm/Tuna/Tuna.conf   |   15 +
 src/conf/ucm/Tuna/VoiceCall   |  445 ++++++++++++++++++++++++
 6 files changed, 1230 insertions(+), 1 deletion(-)
 create mode 100644 src/conf/ucm/Tuna/HiFi
 create mode 100644 src/conf/ucm/Tuna/Makefile.am
 create mode 100644 src/conf/ucm/Tuna/Tuna.conf
 create mode 100644 src/conf/ucm/Tuna/VoiceCall

diff --git a/configure.in b/configure.in
index 25fdc81..de4e2ef 100644
--- a/configure.in
+++ b/configure.in
@@ -670,6 +670,7 @@ AC_OUTPUT(Makefile doc/Makefile doc/pictures/Makefile doc/doxygen.cfg \
 	  src/conf/ucm/SDP4430/Makefile \
 	  src/conf/ucm/tegraalc5632/Makefile \
 	  src/conf/ucm/apq8064-tabla-snd-card/Makefile \
+	  src/conf/ucm/Tuna/Makefile \
 	  modules/Makefile modules/mixer/Makefile modules/mixer/simple/Makefile \
 	  alsalisp/Makefile aserver/Makefile \
 	  test/Makefile test/lsb/Makefile \
diff --git a/src/conf/ucm/Makefile.am b/src/conf/ucm/Makefile.am
index adb3c87..029e1e8 100644
--- a/src/conf/ucm/Makefile.am
+++ b/src/conf/ucm/Makefile.am
@@ -1 +1 @@
-SUBDIRS=DAISY-I2S PandaBoard PandaBoardES SDP4430 tegraalc5632 apq8064-tabla-snd-card
+SUBDIRS=DAISY-I2S PandaBoard PandaBoardES SDP4430 tegraalc5632 apq8064-tabla-snd-card Tuna
diff --git a/src/conf/ucm/Tuna/HiFi b/src/conf/ucm/Tuna/HiFi
new file mode 100644
index 0000000..8ae7e47
--- /dev/null
+++ b/src/conf/ucm/Tuna/HiFi
@@ -0,0 +1,764 @@
+# Use case Configuration for TI Tuna HiFi audio playback and capture
+# By Liam Girdwood <lrg@ti.com>
+# Updated by Sebastien Jan <s-jan@ti.com>
+
+######### Main Verb Config #################
+
+SectionVerb {
+
+	EnableSequence [
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# Enable ABE playback path through DL1
+		cset "name='DL1 Mixer Multimedia' 1"
+		cset "name='Sidetone Mixer Playback' 1"
+		cset "name='DL1 PDM Switch' 1"
+
+		# set ABE playback gains to 0dB
+		cset "name='DL1 Media Playback Volume' 120"
+		cset "name='DL2 Media Playback Volume' 120"
+		cset "name='SDT DL Volume' 120"
+
+		# Enable ABE PDM-UL Capture path
+		cset "name='MUX_UL10' 11"
+		cset "name='MUX_UL11' 12"
+
+		# set ABE capture gains to 0dB
+		cset "name='AMIC UL Volume' 120"
+
+		# Disable Earpiece output, leave enabling to device enable
+		# sequence
+		cset "name='Earphone Enable Switch' 0"
+	]
+
+	DisableSequence [
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# Disable ABE playback path through DL1
+		cset "name='DL1 Mixer Multimedia' 0"
+		cset "name='Sidetone Mixer Playback' 0"
+		cset "name='DL1 PDM Switch' 0"
+
+		# mute ABE playback gains
+		cset "name='DL1 Media Playback Volume' 0"
+		cset "name='DL2 Media Playback Volume' 0"
+		cset "name='SDT DL Volume' 0"
+
+		# Disable ABE PDM-UL Capture path
+		cset "name='MUX_UL10' 0"
+		cset "name='MUX_UL11' 0"
+
+		# mute ABE capture gains
+		cset "name='AMIC UL Volume' 0"
+
+	]
+
+	# ALSA PCM
+	Value {
+
+		TQ "HiFi"
+
+		# ALSA PCM device for HiFi
+		PlaybackPCM "hw:Tuna,0"
+		CapturePCM "hw:Tuna,1"
+	}
+}
+
+###### Headset Devices Options ############
+
+SectionDevice."Headset" {
+	Comment "Tuna 3.5mm Headset capture"
+
+	# Headset is mutually exclusive to some devices
+	ConflictingDevice [
+		#"HeadsetLP"
+		#"Headphones"
+		#"HeadphonesLP"
+		"Mainmic"
+		"Submic"
+		#"Line"
+		#"FMRadio"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+#		# TWL6040 playback path
+#		cset "name='HS Left Playback' 1"
+#		cset "name='HS Right Playback' 1"
+#
+		# TWL6040 Capture Path
+		cset "name='Analog Left Capture Route' 0"
+		cset "name='Analog Right Capture Route' 0"
+		cset "name='Capture Preamplifier Volume' 2"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+#		# TWL6040 playback path
+#		cset "name='HS Right Playback' 0"
+#		cset "name='HS Left Playback' 0"
+
+		# TWL6040 Capture path
+		cset "name='Analog Left Capture Route' 3"
+		cset "name='Analog Right Capture Route' 3"
+		cset "name='Capture Preamplifier Volume' 0"
+	]
+
+#	TransitionSequence."Earpiece" [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 playback path
+#		cset "name='HS Right Playback' 0"
+#		cset "name='HS Left Playback' 0"
+#
+#		# TWL6040 playback path
+#		cset "name='Earphone Enable Switch' 1"
+#
+#		# Disable HS TWL6040 Capture path
+#		cset "name='Analog Left Capture Route' 3"
+#		cset "name='Analog Right Capture Route' 3"
+#		cset "name='Capture Preamplifier Volume' 0"
+#	]
+#
+	Value {
+		# Default ALSA volume gain and mute kcontrols
+		CaptureVolume "name='Capture Volume' 4"
+#		PlaybackVolume "name='Headset Playback Volume' 13"
+#		PlaybackChannels "2"
+		CaptureChannels "2"
+	}
+}
+
+#SectionDevice."HeadsetLP" {
+#	Comment "Low Power Tuna 3.5mm Headset playback and capture"
+#
+#	# HeadsetLP is mutually exclusive to some devices
+#	ConflictingDevice [
+#		"Headphones"
+#		#"HeadphonesLP"
+#		"Headset"
+#		"Mainmic"
+#		"Submic"
+#		#"Line"
+#		#"FMRadio"
+#	]
+#
+#	EnableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 playback path
+#		cset "name='HS Left Playback' 1"
+#		cset "name='HS Right Playback' 1"
+#
+#		# TWL6040 Capture Path
+#		cset "name='Analog Left Capture Route' 0"
+#		cset "name='Analog Right Capture Route' 0"
+#		cset "name='Capture Preamplifier Volume' 2"
+#	]
+#
+#	DisableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 playback path
+#		cset "name='HS Right Playback' 0"
+#		cset "name='HS Left Playback' 0"
+#
+#		# TWL6040 Capture path
+#		cset "name='Analog Left Capture Route' 3"
+#		cset "name='Analog Right Capture Route' 3"
+#		cset "name='Capture Preamplifier Volume' 0"
+#	]
+#
+#	TransitionSequence."Earpiece" [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 playback path
+#		cset "name='HS Right Playback' 0"
+#		cset "name='HS Left Playback' 0"
+#
+#		# TWL6040 playback path
+#		cset "name='Earphone Enable Switch' 1"
+#
+#		# Disable HS TWL6040 Capture path
+#		cset "name='Analog Left Capture Route' 3"
+#		cset "name='Analog Right Capture Route' 3"
+#		cset "name='Capture Preamplifier Volume' 0"
+#	]
+#
+#	Value {
+#		# Default ALSA volume gain and mute kcontrols
+#		CaptureVolume "name='Capture Volume' 4"
+#		PlaybackVolume "name='Headset Playback Volume' 13"
+#		PlaybackPCM "hw:Tuna,6"
+#		PlaybackChannels "2"
+#		CaptureChannels "2"
+#	}
+#}
+
+###### Headphones Devices Options ############
+
+SectionDevice."Headphones" {
+	Comment "Tuna 3.5mm Headphones playback"
+
+	# Headphones is mutually exclusive to some devices
+	ConflictingDevice [
+		#"Headset"
+		#"HeadsetLP"
+		#"HeadphonesLP"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 playback path
+		cset "name='HS Left Playback' 1"
+		cset "name='HS Right Playback' 1"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 playback path
+		cset "name='HS Right Playback' 0"
+		cset "name='HS Left Playback' 0"
+	]
+
+	TransitionSequence."Earpiece" [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 playback path
+		cset "name='HS Right Playback' 0"
+		cset "name='HS Left Playback' 0"
+
+		# TWL6040 playback path
+		cset "name='Earphone Enable Switch' 1"
+	]
+
+	Value {
+		# Default ALSA volume gain and mute kcontrols
+		PlaybackVolume "name='Headset Playback Volume' 13"
+		PlaybackChannels "2"
+	}
+}
+
+#SectionDevice."HeadphonesLP" {
+#	Comment "Low Power Tuna 3.5mm Headphones playback"
+#
+#	# Headphones is mutually exclusive to some devices
+#	ConflictingDevice [
+#		"Headset"
+#		#"HeadsetLP"
+#		"Headphones"
+#	]
+#
+#	EnableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 playback path
+#		cset "name='HS Left Playback' 1"
+#		cset "name='HS Right Playback' 1"
+#	]
+#
+#	DisableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 playback path
+#		cset "name='HS Right Playback' 0"
+#		cset "name='HS Left Playback' 0"
+#	]
+#
+#	TransitionSequence."Earpiece" [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 playback path
+#		cset "name='HS Right Playback' 0"
+#		cset "name='HS Left Playback' 0"
+#
+#		# TWL6040 playback path
+#		cset "name='Earphone Enable Switch' 1"
+#	]
+#
+#	Value {
+#		# Default ALSA volume gain and mute kcontrols
+#		PlaybackVolume "name='Headset Playback Volume' 13"
+#		PlaybackPCM "hw:Tuna,6"
+#		PlaybackChannels "2"
+#	}
+#}
+
+########### Earpiece Device Options ################
+
+SectionDevice."Earpiece" {
+	Comment "Earpiece playback"
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 playback path
+		cset "name='Earphone Enable Switch' 1"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 playback path
+		cset "name='Earphone Enable Switch' 0"
+	]
+
+	TransitionSequence."Headset" [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 playback path
+		cset "name='Earphone Enable Switch' 0"
+
+		# TWL6040 playback path
+		cset "name='HS Right Playback' 1"
+		cset "name='HS Left Playback' 1"
+	]
+
+	Value {
+		# Default ALSA volume gain and mute kcontrols
+		PlaybackVolume "name='Earphone Enable Volume' 13"
+		PlaybackChannels "2"
+	}
+}
+
+########### Speaker Device Options ################
+
+SectionDevice."Speaker" {
+	Comment "Tuna Speaker playback"
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE playback path through DL2
+		cset "name='DL2 Mixer Multimedia' 1"
+
+		# TWL6040 playback path
+		cset "name='HF Left Playback' 1"
+		cset "name='HF Right Playback' 1"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE playback path through DL2
+		cset "name='DL2 Mixer Multimedia' 0"
+
+		# TWL6040 playback path
+		cset "name='HF Left Playback' 0"
+		cset "name='HF Right Playback' 0"
+	]
+
+	Value {
+		# Default ALSA volume gain and mute kcontrols
+		PlaybackVolume "name='Handsfree Playback Volume' 13"
+		PlaybackChannels "2"
+	}
+}
+
+############ Main Mic Device #########################
+
+SectionDevice."Handset" {
+	Comment "Main Microphone Left Channel Capture"
+
+	ConflictingDevice [
+		"Headset"
+		#"HeadsetLP"
+		#"Line"
+		#"FMRadio"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 Capture Path
+		cset "name='Analog Left Capture Route' 0"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 Capture path
+		cset "name='Analog Left Capture Route' 3"
+	]
+
+	Value {
+		# Default ALSA volume gain and mute kcontrols
+		CaptureVolume "name='Capture Volume' 4"
+		CaptureChannels "2"
+	}
+}
+
+############ Sub Mic Device #########################
+
+SectionDevice."Submic" {
+	Comment "Sub Microphone Right Channel Capture"
+
+	ConflictingDevice [
+		"Headset"
+		#"HeadsetLP"
+		#"Line"
+		#"FMRadio"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 Capture Path
+		cset "name='Analog Right Capture Route' 1"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# TWL6040 Capture path
+		cset "name='Analog Right Capture Route' 3"
+	]
+
+	Value {
+		# Default ALSA volume gain and mute kcontrols
+		CaptureVolume "name='Capture Volume' 4"
+		CaptureChannels "2"
+	}
+}
+
+############ Line In Device #########################
+
+#SectionDevice."Line" {
+#	Comment "Line In Capture"
+#
+#	ConflictingDevice [
+#		"Headset"
+#		#"HeadsetLP"
+#		"Submic"
+#		"Mainmic"
+#		#"FMRadio"
+#	]
+#
+#	EnableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 Capture Path
+#		cset "name='Analog Right Capture Route' 2"
+#		cset "name='Analog Left Capture Route' 2"
+#
+#		# TWL6040 Line Capture to 0dB
+#		cset "name='Aux FM Volume' 3"
+#	]
+#
+#	DisableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# TWL6040 Capture path
+#		cset "name='Analog Right Capture Route' 3"
+#		cset "name='Analog Left Capture Route' 3"
+#
+#		# TWL6040 Mute Line Capture
+#		cset "name='Aux FM Volume' 0"
+#	]
+#
+#	Value {
+#		# Default ALSA volume gain and mute kcontrols
+#		CaptureVolume "name='Capture Volume' 4"
+#		CaptureChannels "2"
+#	}
+#}
+
+############ FM Analog Radio Device #########################
+
+#SectionDevice."FMRadio" {
+#	Comment "FM Radio Analog Playback and Capture"
+#
+#	ConflictingDevice [
+#		"Headset"
+#		"HeadsetLP"
+#		"Submic"
+#		"Mainmic"
+#		"Line"
+#	]
+#
+#	EnableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# enable ABE path for FM playback via DL1
+#		cset "name='DL1 Mixer Capture' 1"
+#		cset "name='DL1 Capture Playback Volume' 120"
+#
+#		# TWL6040 Capture Path
+#		cset "name='Analog Right Capture Route' 2"
+#		cset "name='Analog Left Capture Route' 2"
+#
+#		# TWL6040 Line Capture to 0dB
+#		cset "name='Aux FM Volume' 3"
+#	]
+#
+#	DisableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# disable ABE path for FM playback via DL1
+#		cset "name='DL1 Mixer Capture' 0"
+#		cset "name='DL1 Capture Playback Volume' 0"
+#
+#		# TWL6040 Capture path
+#		cset "name='Analog Right Capture Route' 3"
+#		cset "name='Analog Left Capture Route' 3"
+#
+#		# TWL6040 Mute Line Capture
+#		cset "name='Aux FM Volume' 0"
+#	]
+#
+#	Value {
+#		# Default ALSA volume gain and mute kcontrols
+#		CaptureVolume "name='Capture Volume' 4"
+#		CaptureChannels "2"
+#	}
+#}
+
+############ Digital Mic Device #########################
+
+#SectionDevice."Dmic" {
+#	Comment "Digital Microphones"
+#
+#	EnableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# ABE DMIC Capture path
+#		cset "name='MUX_UL00' 1"
+#		cset "name='MUX_UL01' 2"
+#		cset "name='MUX_UL02' 3"
+#		cset "name='MUX_UL03' 4"
+#		cset "name='MUX_UL04' 5"
+#		cset "name='MUX_UL05' 6"
+#	]
+#
+#	DisableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# ABE DMIC Capture path
+#		cset "name='MUX_UL00' 0"
+#		cset "name='MUX_UL01' 0"
+#		cset "name='MUX_UL02' 0"
+#		cset "name='MUX_UL03' 0"
+#		cset "name='MUX_UL04' 0"
+#		cset "name='MUX_UL05' 0"
+#	]
+#
+#	Value {
+#		# Default ALSA volume gain and mute kcontrols
+#		CaptureVolume "name='DMIC1 UL Capture Volume' 30, 30"
+#		CaptureVolume "name='DMIC2 UL Capture Volume' 30, 30"
+#		CaptureVolume "name='DMIC3 UL Capture Volume' 30, 30"
+#		CapturePCM "hw:Tuna,0"
+#	}
+#}
+
+############ Bluetooth Device #########################
+
+#SectionDevice."Bluetooth" {
+#	Comment "Bluetooth Playback and Capture"
+#
+#	EnableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# enable 0dB ABE path for BT capture via ROUTE_UL
+#		cset "name='MUX_UL10' 7"
+#		cset "name='MUX_UL11' 8"
+#		cset "name='BT UL Volume' 120"
+#
+#		# enable ABE DL1 BT path
+#		cset "name='DL1 BT_VX Switch' 1"
+#	]
+#
+#	DisableSequence [
+#
+#		# Set SDP device for following cset commands
+#		cdev "hw:Tuna"
+#
+#		# Mute ABE path for BT capture via ROUTE_UL
+#		cset "name='MUX_UL10' 0"
+#		cset "name='MUX_UL11' 0"
+#		cset "name='BT UL Volume' 0"
+#
+#		# enable ABE DL1 BT path
+#		cset "name='DL1 BT_VX Switch' 0"
+#	]
+#
+#	Value {
+#		# Default ALSA volume gain and mute kcontrols
+#		TQ "Voice"
+#		PlaybackPriority "150"
+#		CapturePriority "150"
+#		PlaybackChannels "2"
+#		CaptureChannels "2"
+#	}
+#}
+
+############ HDMI Device #########################
+
+#SectionDevice."HDMI" {
+#	Comment "HDMI Connected Device"
+#
+#	EnableSequence [
+#	]
+#
+#	DisableSequence [
+#	]
+#
+#	Value {
+#		PlaybackPCM "hw:OMAP4HDMI,0"
+#	}
+#}
+
+##############  Play Tone Modifier ####################
+#
+# We have 2 PlayTone modifiers. Each one supports different devices as the
+# path configuration is different depending on the device being used when
+# the modifier is enabled.
+#
+
+SectionModifier."PlayTone" {
+	Comment "Play a ring tone or system sound"
+
+	# For the following devices we need to set the DL2 path
+	SupportedDevice [
+		"Headset"
+		"HeadsetLP"
+		"Headphones"
+		"Earpiece"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE playback path through DL2
+		cset "name='DL2 Mixer Tones' 1"
+		cset "name='DL2 Tones Playback Volume' 120"
+		cset "name='DL1 Mixer Tones' 1"
+		cset "name='DL1 Tones Playback Volume' 120"
+
+#		# TWL6040 playback path
+#		cset "name='HF Left Playback' 1"
+#		cset "name='HF Right Playback' 1"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE playback path through DL2
+		cset "name='DL2 Mixer Tones' 0"
+		cset "name='DL2 Tones Playback Volume' 0"
+		cset "name='DL1 Mixer Tones' 0"
+		cset "name='DL1 Tones Playback Volume' 0"
+
+#		# TWL6040 playback path
+#		cset "name='HF Left Playback' 0"
+#		cset "name='HF Right Playback' 0"
+	]
+
+	# QoS, Mixers and ALSA PCMs
+	Value {
+		TQ "Tones"
+		PlaybackPCM "hw:Tuna,3"
+		PlaybackVolume "name='DL2 Tones Playback Volume' 120"
+	}
+}
+
+SectionModifier."PlayTone" {
+	Comment "Play a ring tone or system sound"
+
+	# For the following devices we dont need to set the DL2 path
+	SupportedDevice [
+		"Speaker"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE playback path through DL2
+		cset "name='DL2 Mixer Tones' 1"
+		cset "name='DL2 Tones Playback Volume' 120"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		cset "name='DL2 Mixer Tones' 0"
+	]
+
+	# QoS, Mixers and ALSA PCMs
+	Value {
+		TQ "Tones"
+		PlaybackPCM "hw:Tuna,3"
+		PlaybackVolume "name='DL2 Tones Playback Volume' 120"
+	}
+}
+
diff --git a/src/conf/ucm/Tuna/Makefile.am b/src/conf/ucm/Tuna/Makefile.am
new file mode 100644
index 0000000..f8a69dd
--- /dev/null
+++ b/src/conf/ucm/Tuna/Makefile.am
@@ -0,0 +1,4 @@
+alsaconfigdir = @ALSA_CONFIG_DIR@
+ucmdir = $(alsaconfigdir)/ucm/Tuna
+ucm_DATA = Tuna.conf HiFi VoiceCall
+EXTRA_DIST = $(ucm_DATA)
diff --git a/src/conf/ucm/Tuna/Tuna.conf b/src/conf/ucm/Tuna/Tuna.conf
new file mode 100644
index 0000000..41f11e2
--- /dev/null
+++ b/src/conf/ucm/Tuna/Tuna.conf
@@ -0,0 +1,15 @@
+# UCM configuration for SDP4430
+SectionUseCase."HiFi" {
+	File "HiFi"
+	Comment "Play HiFi quality Music."
+}
+
+SectionUseCase."Voice Call" {
+	File "VoiceCall"
+	Comment "Capture and Playback in Voice quality."
+}
+
+SectionDefaults [
+	cdev "hw:Tuna"
+	exec "echo Im setting defaults"
+]
diff --git a/src/conf/ucm/Tuna/VoiceCall b/src/conf/ucm/Tuna/VoiceCall
new file mode 100644
index 0000000..dec9290
--- /dev/null
+++ b/src/conf/ucm/Tuna/VoiceCall
@@ -0,0 +1,445 @@
+# Use case Configuration for TI Tuna RF MODEM Voice Call
+# By Liam Girdwood <lrg@ti.com>
+
+SectionVerb {
+
+	EnableSequence [
+		cdev "hw:Tuna"
+
+		# Enable ABE sidetone paths at 0dB (needs tuned)
+		cset "name='Sidetone Mixer Capture' 1"
+		cset "name='Sidetone Mixer Playback' 1"
+		cset "name='SDT DL Volume' 120"
+		cset "name='SDT UL Volume' 120"
+
+		# Enable ABE DL1 Voice at 0dB
+		cset "name='DL1 Mixer Multimedia' 1"
+		cset "name='DL1 Mixer Voice' 1"
+		cset "name='DL1 Voice Playback Volume' 120"
+
+		# Only enabled for Speaker
+		cset "name='DL2 Mixer Multimedia' 0"
+		cset "name='DL2 Mixer Voice' 0"
+
+		# Disable DL2 Mono Mixer
+		cset "name='DL2 Mono Mixer' 0"
+
+		# Enable Uplink
+		cset "name='Voice Capture Mixer Capture' 1"
+
+		# Todo - Execute modem startup command if required.
+
+		# FIXME: Copying Handset enable here to allow the PCM to be
+		# opened. Better fix required, possibly driver-side.
+		# Enable ABE paths to PDM and AMIC
+		cset "name='DL1 PDM Switch' 1"
+		cset "name='MUX_VX0' 11"
+		cset "name='MUX_VX1' 12"
+
+		# set ABE capture gains to 0dB
+		cset "name='AMIC UL Volume' 120"
+
+		# TWL6040 playback path
+		cset "name='Earphone Enable Switch' 1"
+
+		# TWL6040 Capture Path with Main Mic and Sub Mic
+		cset "name='Analog Left Capture Route' 1"
+		cset "name='Analog Right Capture Route' 1"
+		cset "name='Capture Preamplifier Volume' 2"
+		# END OF FIXME
+	]
+
+
+	DisableSequence [
+		cdev "hw:Tuna"
+
+		# Todo - Execute modem shutdown command if required.
+
+		# Disable ABE sidetone paths and mute (needs tuned)
+		cset "name='Sidetone Mixer Capture' 0"
+		cset "name='Sidetone Mixer Playback' 0"
+		cset "name='SDT DL Volume' 0"
+		cset "name='SDT UL Volume' 0"
+
+		# Disable ABE DL1 Voice and mute
+		cset "name='DL1 Mixer Voice' 0"
+		cset "name='DL1 Voice Playback Volume' 0"
+
+		# Enable DL2 Multimedia
+		cset "name='DL2 Mixer Multimedia' 1"
+
+		# Enable DL2 Mono Mixer
+		cset "name='DL2 Mono Mixer' 1"
+
+		# Disable Uplink
+		cset "name='Voice Capture Mixer Capture' 0"
+
+		# FIXME: Copying Handset disable here to allow the PCM to be
+		# opened. Better fix required, possibly driver-side.
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# Enable ABE paths
+		cset "name='DL1 PDM Switch' 0"
+		cset "name='MUX_VX0' 0"
+		cset "name='MUX_VX1' 0"
+
+		# mute ABE capture gains
+		cset "name='AMIC UL Volume' 120"
+
+		# TWL6040 playback path
+		cset "name='HS Right Playback' 0"
+		cset "name='HS Left Playback' 0"
+
+		# TWL6040 Capture path
+		cset "name='Analog Left Capture Route' 3"
+		cset "name='Analog Right Capture Route' 3"
+		cset "name='Capture Preamplifier Volume' 0"
+		# END OF FIXME
+	]
+
+	# QoS and ALSA PCMs
+	Value {
+		TQ "Voice"
+
+		# These PCMs are used by the Call management app to start the link and
+		# cannot be used to play or capture call audio.
+		CapturePCM "hw:Tuna,5"
+		PlaybackPCM "hw:Tuna,5"
+	}
+}
+
+SectionDevice."Earpiece" {
+	#Name "Earpiece"
+	Comment "Earpiece output"
+
+	# FIXME
+	ConflictingDevice [
+		"Headphones"
+		"Speaker"
+	]
+
+	EnableSequence [
+	]
+	DisableSequence [
+	]
+
+	Value {
+		PlaybackChannels "2"
+	}
+}
+
+SectionDevice."Headphones" {
+	#Name "Earpiece"
+	Comment "Headphone output"
+
+	# FIXME
+	ConflictingDevice [
+		"Earpiece"
+		"Speaker"
+	]
+
+	EnableSequence [
+	]
+	DisableSequence [
+	]
+
+	Value {
+		PlaybackChannels "2"
+	}
+}
+
+SectionDevice."Speaker" {
+	#Name "Earpiece"
+	Comment "Speaker output"
+
+	# FIXME
+	ConflictingDevice [
+		"Earpiece"
+		"Headphones"
+	]
+
+	EnableSequence [
+	]
+	DisableSequence [
+	]
+
+	Value {
+		PlaybackChannels "2"
+	}
+}
+
+
+SectionDevice."Handset" {
+	Comment "Main mic input"
+
+	# FIXME
+	ConflictingDevice [
+		"Headset"
+	]
+
+	EnableSequence [
+	]
+	DisableSequence [
+	]
+
+	Value {
+		CaptureChannels "2"
+	}
+}
+
+SectionDevice."Headset" {
+	Comment "Headset mic input"
+
+	# FIXME
+	ConflictingDevice [
+		"Handset"
+	]
+
+	EnableSequence [
+	]
+	DisableSequence [
+	]
+
+	Value {
+		CaptureChannels "2"
+	}
+}
+
+
+
+##############  Play Tone Modifier ####################
+#
+# We have 2 PlayTone modifiers. Each one supports different devices as the
+# path configuration is different depending on the device being used when
+# the modifier is enabled.
+#
+
+SectionModifier."PlayTone" {
+	Comment "Play tone or system sound during call"
+
+	# For the following devices we need to set the DL2 path
+	SupportedDevice [
+		"Headset"
+		"Handset"
+		"Bluetooth"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE tone playback path through DL1 & DL2 at 0dB (tune this)
+		cset "name='DL1 Mixer Tones' 1"
+		cset "name='DL1 Tones Playback Volume' 120"
+		cset "name='DL2 Mixer Tones' 1"
+		cset "name='DL2 Tones Playback Volume' 120"
+
+		# TWL6040 playback path
+		cset "name='HF Left Playback' 1"
+		cset "name='HF Right Playback' 1"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# disable ABE tone path
+		cset "name='DL1 Mixer Tones' 0"
+		cset "name='DL1 Tones Playback Volume' 0"
+		cset "name='DL2 Mixer Tones' 0"
+		cset "name='DL2 Tones Playback Volume' 0"
+
+		# TWL6040 playback path
+		cset "name='HF Left Playback' 0"
+		cset "name='HF Right Playback' 0"
+	]
+
+	# QoS, Mixers and ALSA PCMs
+	Value {
+		TQ "Tones"
+		PlaybackPCM "hw:Tuna,3"
+		PlaybackVolume "name='DL2 Tones Playback Volume' 120"
+		PlaybackVolume "name='DL1 Tones Playback Volume' 120"
+	}
+}
+
+SectionModifier."PlayTone" {
+	Comment "Play a ring tone or system sound"
+
+	# For the following devices we dont need to set the DL2 path
+	SupportedDevice [
+		"Speaker"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE tone playback path through DL2 at 0dB
+		cset "name='DL2 Mixer Tones' 1"
+		cset "name='DL2 Tones Playback Volume' 120"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE mute tone playback path through DL2
+		cset "name='DL2 Mixer Tones' 0"
+		cset "name='DL2 Tones Playback Volume' 0"
+	]
+
+	# QoS, Mixers and ALSA PCMs
+	Value {
+		TQ "Tones"
+		PlaybackPCM "hw:Tuna,3"
+		PlaybackVolume "name='DL2 Tones Playback Volume' 120"
+	}
+}
+
+##############  Play Music Modifier ####################
+#
+# We have 2 PlayMusic modifiers. Each one supports different devices as the
+# path configuration is different depending on the device being used when
+# the modifier is enabled.
+#
+
+SectionModifier."PlayMusic" {
+	Comment "Play Music to near and far end during call"
+
+	# For the following devices we need to set the DL2 path
+	SupportedDevice [
+		"Headset"
+		"Handset"
+		"Bluetooth"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE Music playback path through DL1 at 0dB (tune this)
+		cset "name='DL1 Mixer Multimedia' 1"
+		cset "name='DL1 Media Playback Volume' 120"
+
+		# ABE Music to far end at 0dB
+		cset "name='Voice Capture Mixer Media Playback' 1"
+		cset "name='AUDUL Media Volume' 120"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# disable ABE Music path to near end
+		cset "name='DL1 Mixer Tones' 0"
+		cset "name='DL1 Tones Playback Volume' 0"
+
+		# disable ABE Music to far end
+		cset "name='Voice Capture Mixer Media Playback' 0"
+		cset "name='AUDUL Media Volume' 0"
+	]
+
+	# QoS, Mixers and ALSA PCMs
+	Value {
+		TQ "HiFi"
+		PlaybackPCM "hw:Tuna,0"
+		PlaybackVolume "name='DL1 Media Playback Volume' 120"
+	}
+}
+
+SectionModifier."PlayMusic" {
+	Comment "Play Music to near and far end during call"
+
+	# For the following devices we dont need to set the DL2 path
+	SupportedDevice [
+		"Speaker"
+	]
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE Music playback path through DL2 at 0dB
+		cset "name='DL2 Mixer Multimedia' 1"
+		cset "name='DL2 Media Playback Volume' 120"
+
+		# ABE Music to far end at 0dB
+		cset "name='Voice Capture Mixer Media Playback' 1"
+		cset "name='AUDUL Media Volume' 120"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# ABE mute tone playback path through DL2
+		cset "name='DL2 Mixer Tones' 0"
+		cset "name='DL2 Tones Playback Volume' 0"
+
+		# disable ABE Music to far end
+		cset "name='Voice Capture Mixer Media Playback' 0"
+		cset "name='AUDUL Media Volume' 0"
+	]
+
+	# QoS, Mixers and ALSA PCMs
+	Value {
+		TQ "HiFi"
+		PlaybackPCM "hw:Tuna,0"
+		PlaybackVolume "name='DL2 Media Playback Volume' 120"
+	}
+}
+
+############# Record Phone Call ################################
+
+SectionModifier."CaptureVoice" {
+	Comment "Record Phone Call"
+
+	EnableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# Enable VX_REC for call capture at 0dB
+		cset "name='Capture Mixer Voice Playback' 1"
+		cset "name='Capture Mixer Voice Capture' 1"
+		cset "name='VXREC Voice UL Volume' 120"
+		cset "name='VXREC Voice DL Volume' 120"
+
+		# set ROUTE_UL path
+		cset "name='MUX_UL10' 13"
+		cset "name='MUX_UL11' 14"
+	]
+
+	DisableSequence [
+
+		# Set SDP device for following cset commands
+		cdev "hw:Tuna"
+
+		# Enable VX_REC for call capture at 0dB
+		cset "name='Capture Mixer Voice Playback' 0"
+		cset "name='Capture Mixer Voice Capture' 0"
+		cset "name='VXREC Voice UL Volume' 0"
+		cset "name='VXREC Voice DL Volume' 0"
+
+		# set ROUTE_UL path
+		cset "name='MUX_UL10' 0"
+		cset "name='MUX_UL11' 0"
+	]
+
+	# QoS, Mixers and ALSA PCMs
+	Value {
+		TQ "Voice"
+		PlaybackPCM "hw:Tuna,1"
+	}
+}
+
-- 
1.7.9.5

